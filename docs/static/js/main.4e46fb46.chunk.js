(this["webpackJsonprgl-hidden-elements"]=this["webpackJsonprgl-hidden-elements"]||[]).push([[0],{19:function(t,e,n){t.exports=n(37)},24:function(t,e,n){},35:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var i,a=n(0),o=n.n(a),r=n(10),u=n.n(r),c=(n(24),n(8)),l=n(1),s=n(3),m=n(4),h=n(6),y=n(5),d=n(7),f=n(11),g=n.n(f);!function(t){t[t.Editor=0]="Editor",t[t.View=1]="View"}(i||(i={}));var v={layout:[{i:"0",w:2,h:50,x:0,y:0,minH:0},{i:"1",w:2,h:50,x:2,y:0,minH:0},{i:"2",w:4,h:50,x:0,y:50,minH:0},{i:"3",w:2,h:50,x:0,y:100,minH:0},{i:"4",w:2,h:50,x:2,y:100,minH:0},{i:"5",w:2,h:50,x:0,y:150,minH:0},{i:"6",w:2,h:50,x:2,y:150,minH:0},{i:"7",w:2,h:50,x:0,y:200,minH:0},{i:"8",w:2,h:50,x:2,y:200,minH:0},{i:"9",w:2,h:50,x:0,y:250,minH:0},{i:"10",w:2,h:50,x:2,y:250,minH:0},{i:"11",w:2,h:50,x:0,y:300,minH:0},{i:"12",w:2,h:50,x:2,y:300,minH:0},{i:"13",w:2,h:50,x:0,y:350,minH:0},{i:"14",w:2,h:50,x:2,y:350,minH:0},{i:"15",w:2,h:50,x:0,y:400,minH:0},{i:"16",w:2,h:50,x:2,y:400,minH:0},{i:"17",w:2,h:50,x:0,y:450,minH:0},{i:"18",w:2,h:50,x:2,y:450,minH:0},{i:"19",w:2,h:50,x:0,y:500,minH:0},{i:"20",w:2,h:50,x:2,y:500,minH:0}]},p=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(y.a)(e)).call.apply(t,[this].concat(o)))).state=Object(l.a)({},v),n.toggleSingleElement=function(t){var e=t.currentTarget.dataset.index;if(e)return n.setState((function(t){return Object(l.a)({},t,{layout:t.layout.map((function(t){switch(t.i){case e:return Object(l.a)({},t,{maxH:void 0!==t.maxH?void 0:t.h});default:return t}}))})}))},n.onLayoutChange=function(t){n.setState((function(e){return Object(l.a)({},e,{layout:t})}))},n.commitLayout=function(){n.props.setLayout(n.state.layout.map((function(t){switch(!0){case void 0!==t.maxH:return Object(l.a)({},t,{h:0});default:return t}})),i.Editor)},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"editor"},o.a.createElement("h1",null,"Editor"),o.a.createElement("div",{className:"main-action"},o.a.createElement("button",{className:"save",onClick:this.commitLayout},"Save Layout")),this.mapButtons(),o.a.createElement(g.a,{width:600,margin:[0,0],draggableCancel:".non-draggable",isDraggable:!0,isResizable:!0,compactType:"vertical",layout:this.state.layout,cols:4,rowHeight:1,onLayoutChange:this.onLayoutChange},this.mapItems()))}},{key:"mapButtons",value:function(){var t=this;return this.state.layout.map((function(e){return o.a.createElement("button",{"data-index":e.i,onClick:t.toggleSingleElement},"Toggle ",e.i)}))}},{key:"mapItems",value:function(){var t=this;return this.state.layout.map((function(e){return o.a.createElement("div",{key:e.i,className:"item ".concat(t.isHidden(e)?"hidden":"")},e.i)}))}},{key:"isHidden",value:function(t){return void 0!==t.maxH}}]),e}(o.a.PureComponent),b=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(y.a)(e)).call.apply(t,[this].concat(o)))).toggleSingleElement=function(t){var e=t.currentTarget.dataset.index;e&&n.props.toggleElement(e)},n.changeInterceptor=function(t){n.props.onLayoutChange(t,i.View)},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"view"},o.a.createElement("h1",null,"View"),this.mapButtons(),o.a.createElement(g.a,{width:600,margin:[0,0],draggableCancel:".non-draggable",isDraggable:!1,isResizable:!1,verticalCompact:!0,compactType:"vertical",layout:this.props.layout,cols:4,rowHeight:1,onLayoutChange:this.changeInterceptor},this.mapItems()))}},{key:"mapButtons",value:function(){var t=this;return this.props.layout.map((function(e){return o.a.createElement("button",{"data-index":e.i,onClick:t.toggleSingleElement},"Toggle ",e.i)}))}},{key:"mapItems",value:function(){var t=this;return this.props.layout.map((function(e){return o.a.createElement("div",{key:e.i,className:"item ".concat(t.isHidden(e)?"hidden":"")},e.i)}))}},{key:"isHidden",value:function(t){return void 0!==t.maxH&&0===t.h}}]),e}(o.a.PureComponent);function w(t,e){return e.sort((function(t,e){return t>=e?-1:1})).filter((function(e){return t.i!==e.i&&t.y+t.h===e.y})).map((function(t){return{i:t.i,x:t.x,y:t.y}}))}n(35),n(36);var E=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(t=Object(y.a)(e)).call.apply(t,[this].concat(o)))).state={layout:[],hiddenElements:[]},n.layoutYSiblingMap={},n.setLayout=function(t,e){e===i.Editor&&n.buildLayoutYSiblingMap(t),n.setState((function(e){return Object(l.a)({},e,{layout:t})}))},n.toggleElement=function(t){var e=n.state.layout.find((function(e){return e.i===t}));if(e)switch(!0){case e.i===t&&void 0===e.maxH&&0!==e.h:return n.hideElement(t);case e.i===t&&void 0!==e.maxH&&0===e.h:return n.showElement(t);default:return}},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"base"},o.a.createElement(p,{setLayout:this.setLayout}),o.a.createElement(b,{layout:this.state.layout,toggleElement:this.toggleElement,onLayoutChange:this.setLayout}))}},{key:"buildLayoutYSiblingMap",value:function(t){var e=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var r=a.value;this.layoutYSiblingMap[r.i]=w(r,t).map((function(t){return t.i}))}}catch(u){n=!0,i=u}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"hideElement",value:function(t){this.setState((function(e){var n=e.layout.find((function(e){return e.i===t}));return Object(l.a)({},e,{layout:e.layout.map((function(e){switch(e.i){case t:return Object(l.a)({},e,{w:0,h:0,maxH:e.h,maxW:e.w,static:!0});default:return e}})),hiddenElements:n?[].concat(Object(c.a)(e.hiddenElements),[{i:n.i,bottomSiblings:w(n,e.layout).map((function(t){return t.i}))}]):e.hiddenElements})}))}},{key:"showElement",value:function(t){var e=this,n=this.state.hiddenElements.find((function(e){return e.i===t}));n&&this.setState((function(i){var a=i.layout.map((function(e){switch(e.i){case t:return Object(l.a)({},e,{w:e.maxW,h:e.maxH,maxW:void 0,maxH:void 0,static:!1});default:return e}}));return Object(l.a)({},i,{layout:e.normalizePositions(a),hiddenElements:i.hiddenElements.filter((function(t){return t.i!==n.i}))})}))}},{key:"normalizePositions",value:function(t){for(var e=this,n=Object.keys(this.layoutYSiblingMap),i=Object(c.a)(t),a=function(){var t=r[o],n=i.find((function(e){return e.i===t}));if(!n||n.static)return"continue";i=e.mapElementSiblingPositions(n,i)},o=0,r=n;o<r.length;o++)a();return i}},{key:"mapElementSiblingPositions",value:function(t,e,n){for(var i=this,a=Object(c.a)(e),o=this.layoutYSiblingMap[t.i],r=0,u=a.length;r<u;r++){var s=a[r];o.includes(s.i)&&(s.static&&function(){console.log("Mapping hidden:",s.i,"Sibling of:",t.i,"Forcing Y:",n);var e=i.mapElementSiblingPositions(s,a,void 0!==n?n:t.y+t.h);a=a.map((function(t){var n=e.find((function(e){return e.i===t.i}));return n||t}))}(),void 0===n&&s.y!==t.y+t.h&&(a[r]=Object(l.a)({},s,{y:t.y+t.h})),void 0!==n&&(a[r]=Object(l.a)({},s,{y:n})))}return a}}]),e}(o.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.4e46fb46.chunk.js.map